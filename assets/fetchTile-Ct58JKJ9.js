import{cP as n,cQ as c,cR as f,bl as l}from"./index-BfJ9e5wW.js";import{m}from"./RefreshableLayer-BsTxuW62.js";async function g(t,r,s){const e=t.layer;if(n(e)){const i=await e.fetchTile(r[0],r[1],r[2],s);if(c(s))throw l.getLogger(t).warnOnce("A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true."),f();return i}let o=t.getTileUrl(r);m(e)&&e.refreshTimestamp&&(o+=`${o.includes("?")?"&":"?"}_ts=${e.refreshTimestamp}`);const a=t.hasMixedImageFormats?3:2;return s.requester.request(o,a,s)}export{g as i};
